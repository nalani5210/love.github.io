<html lang="zh-CN">
<head>
    <link href="../static/css/jquery-linedtextarea.css" rel="stylesheet" type="text/css" />
    <link href="../static/css/json-screen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div class="container">
    <div class="row">
        <input type="hidden" id="reformat" value="1" />
        <input type="hidden" id="compress" value="0" />
        <div id="json-composite-placeholder">
            <div id="results_header" class="hide">
                <h3>
                    Results
                    <img title="Loading..." class="reset" alt="Loading" src="../static/image/jsondiff/loadspinner.gif" id="loadSpinner" name="loadSpinner">
                </h3>
            </div>
        </div>
    </div>
</div>
<script src="../static/js/jquery.min.js" type="text/javascript"></script>
<script src="../static/js/jsondiff/diffmain.js" type="text/javascript"></script>
<script src="../static/js/jsondiff/jsonlint/jsl.format.js" type="text/javascript"></script>
<script src="../static/js/jsondiff/jsonlint/jsl.parser.js" type="text/javascript"></script>
<script>
$(function () {
    var JSON_PARAM = utils._getURLParameter('json');
    // this needs to be in a composite
    var jsonComposite=new JSONComposite({
        el 		: $('#json-composite-placeholder'),
        json 	: JSON_PARAM
    });
	jsonComposite.primaryValidator.textarea.blur(() => {
		var str = jsonComposite.primaryValidator.getValue();
		if (str !== '') {
			jsonComposite.primaryValidator.validate();
		}
	});
});
</script>
</body>
</html>
